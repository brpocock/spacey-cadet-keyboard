// Spacey Cadet keyboard layout
// Offered into the Public Domain by Bruce-Robert Pocock <brpocock@star-hope.org>
// CC-0 license.

/// This is /usr/share/X11/xkb/compat/spacey

xkb_compatibility "spacey" {
     virtual_modifiers Shift,Control,Alt,Meta,AltGr,LevelThree,LevelFive,Super,Hyper,Lock;

    interpret.useModMapMods= AnyLevel;
    interpret.repeat= False;
    interpret.locking= False;

     interpret Shift_L { action = SetMods(modifiers=Shift,clearLocks); };
     interpret Shift_R { action = SetMods(modifiers=Shift,clearLocks); };

     interpret Control_L { action = SetMods(modifiers=Control,clearLocks); };
     interpret Control_R { action = SetMods(modifiers=Control,clearLocks); };

     interpret Meta_L { virtualModifier = Alt,Meta;
                        action = SetMods(modifiers=Alt+Meta,clearLocks); };
     interpret Meta_R { virtualModifier = Alt,Meta;
                        action = SetMods(modifiers=Alt+Meta,clearLocks); };

     interpret Super_L { action = SetMods(modifiers=Super,clearLocks); };

     interpret Hyper_R { action = SetMods(modifiers=Hyper,clearLocks); };

    interpret ISO_Level3_Shift+AnyOf(all) {
        virtualModifier= LevelThree;
        useModMapMods=level1;
        action= SetMods(modifiers=LevelThree,clearLocks);
    };
    interpret Mode_Shift+AnyOf(all) {
        virtualModifier= LevelThree;
        useModMapMods=level1;
        action= SetMods(modifiers=LevelThree,clearLocks);
    };

     interpret ISO_Level5_Shift { virtualModifier= LevelFive;
                                  action = SetMods(modifiers=LevelFive,clearLocks); };

    group2 = AltGr;
    group3 = LevelFive;
    group4 = AltGr+LevelFive

    indicator "Caps Lock" {
        !allowExplicit;
        whichModState= locked;
        modifiers= Lock;
    };
    indicator "Group 2" {
        !allowExplicit;
        groups= 0xfe;
    };
    indicator "Mouse Keys" {
        indicatorDrivesKeyboard;
        controls= mouseKeys;
    };

};
